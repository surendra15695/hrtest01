<div class="content-box m-b-15 m-t-10" *ngIf="!showAccommodationDetails">
    <div class="page-title-area pb-2 mb-2">
        <a (click)="onBackClick()" class="back-btn"><i class="las la-arrow-circle-left"></i></a>
        <h1 class="f-l">Fill Accommodation Details</h1>
    </div>

    <div class="page-title-area pb-2 mb-2">
        <div>
            <div class="alert alert-warning">
                <p>
                    <span style="color:red;">Note:</span>
                    Candidate not available for this date to give accommodation
                </p>
            </div>
        </div>
    </div>

</div>

<div class="content-box" *ngIf="showAccommodationDetails">
    <div class="page-title-area pb-2 mb-2">
        <a (click)="onBackClick()" class="back-btn"><i class="las la-arrow-circle-left"></i></a>
        <h1 class="f-l">Fill Accommodation Details</h1>
    </div>
    <div>
        <div class="form-row align-items-center">
            <div class="col-md-3">
                <p class="d-inline-block grey">{{fillAccommodationFor}} ID:</p>
                <p *ngIf="fillAccommodationFor=='Candidate'" class="d-inline-block">
                    {{fillAccommodationAllDetails?.trainingAccomodationCandidate.candidateNo}}</p>
                <p *ngIf="fillAccommodationFor=='Batch'" class="d-inline-block">
                    {{fillAccommodationAllDetails?.trainingAccomodationCandidate.batchNo}}</p>
            </div>
            <div class="col-md-3">
                <p class="d-inline-block grey">From Date:</p>
                <!-- <p class="d-inline-block">{{fillAccommodationAllDetails?.trainingAccomodationCandidate.dateFrom}}</p> -->
                <p class="d-inline-block">{{fromDateToShow}}</p>
            </div>
            <div class="col-md-3">
                <p class="d-inline-block grey">To Date:</p>
                <!-- <p class="d-inline-block">{{fillAccommodationAllDetails?.trainingAccomodationCandidate.dateTo}}</p> -->
                <p class="d-inline-block">{{toDateToShow}}</p>
            </div>
            <div class="col-md-3">
                <p class="d-inline-block grey">Location:</p>
                <p class="d-inline-block">{{fillAccommodationAllDetails?.trainingAccomodationCandidate.locationName}}
                </p>
            </div>
        </div>
        <div class="form-row align-items-center">
            <div class="col-md-3">
                <p class="d-inline-block grey">Venue:</p>
                <p class="d-inline-block">
                    <!-- {{fillAccommodationAllDetails?.trainingAccomodationCandidate.reprtingVenueAddress}}</p> -->
                    {{fillAccommodationAllDetails?.trainingAccomodationCandidate.inductionVenueName}}
                </p>
            </div>
            <div class="col-md-3">
                <p class="d-inline-block grey">No. of Total Candidates in Batch:</p>
                <p class="d-inline-block">{{fillAccommodationAllDetails?.trainingAccomodationCandidate.totalCandidates}}
                </p>
            </div>
        </div>
        <hr>
    </div>
    <div>
        <h6 class="red">Arrange Accommodation</h6>
        <div class="border-box mb-4 mt-2 p-3">
            <!-- <form [formGroup]="saveForm" (ngSubmit)="onClickAdd()"> -->
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Select Candidate(s)</label>
                        <!-- <ng-select bindLabel="candidateName" [placeholder]="'Select'" [appendTo]="'body'" -->
                        <!-- [multiple]="true" [searchable]="true" [clearable]="false" formControlName="candidateId" (change)="onChangeCandidate()"> -->
                        <!-- <ng-option [value]="rec.candidateId" *ngFor="let rec of fillAccommodationAllDetails?.trainingAccomodationCandidateDetails"> -->
                        <!-- <ng-option [value]="rec.candidateId" *ngFor="let rec of candidateArray"> -->
                        <!-- {{rec.candidateName}} -->
                        <!-- </ng-option> -->
                        <!-- </ng-select> -->
                        <!-- <select name="" id="" [(ngModal)]="candidateId">
                            <option value="rec.candidateId" *ngFor="let rec of fillAccommodationAllDetails?.trainingAccomodationCandidateDetails">{{rec.candidateName}}</option>
                        </select> -->
                        <table style="border: 1px solid;">
                            <thead>
                                <tr>
                                    <th style="width: 25px;border: 1px solid;">
                                        <div class="form-check">
                                            <input type="checkbox" id="chkAll" [(ngModel)]="selectAll"
                                                (change)="onCheckAll($event)">
                                            <label class="chk" for="chkAll"></label>
                                        </div>
                                    </th>
                                    <th style="width: 100px;border: 1px solid;"> Select All</th>
                                    <th style="width: 100px;border: 1px solid;">From Date</th>
                                    <th style="width: 100px;border: 1px solid;">To Date</th>
                                    <!-- <th style="width: 150px;border: 1px solid;">Training Tittle</th> -->
                                    <!-- by Anif on 04-05-2023 -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- <tr *ngFor="let rec of candidateArray"> -->
                                <!-- by Anif on 04-05-2023 -->
                                <tr *ngFor="let rec of candidateArrayForView">
                                    <td style="border: 1px solid;">
                                        <div class="form-check">
                                            <input type="checkbox"
                                                id="{{rec.candidateId}}{{rec.fromDate}}{{rec.toDate}}{{rec.candidateAccomodationDetailsId}}"
                                                [(ngModel)]="rec.isChecked" value="{{rec.candidateId}}"
                                                (click)="select($event,rec)">
                                            <label class="chk"
                                                for="{{rec.candidateId}}{{rec.fromDate}}{{rec.toDate}}{{rec.candidateAccomodationDetailsId}}"></label>
                                        </div>
                                    </td>
                                    <td style="width: 100px;border: 1px solid;">
                                        {{rec.candidateName}}
                                    </td>
                                    <td style="width: 100px;border: 1px solid;">{{rec.fromDate}}</td>
                                    <td style="width: 100px;border: 1px solid;">{{rec.toDate}}</td>
                                    <!-- <td style="width: 150px;border: 1px solid;">{{rec.traingTitle}}</td> -->
                                    <!-- by Anif on 04-05-2023 -->
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>Accommodation</label>
                        <textarea class="form-control" placeholder="Enter Accommodation"
                            [(ngModel)]="candidateAccomodation"></textarea>
                    </div>
                </div>
            </div>
            <div class="text-right">
                <button type="button" class="btn btn-sm btn-black" (click)="onClickAdd()">+ Add</button>
            </div>
            <!-- </form> -->
        </div>
    </div>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th style="min-width: 80px;">Candidate ID</th>
                    <th style="min-width: 80px;">Candidate Name</th>
                    <th style="min-width: 50px;">From Date</th>
                    <th style="min-width: 50px;">To Date</th>
                    <th style="min-width: 80px;">Accommodation</th>
                    <th class="text-center" style="width: 60px;">Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr *ngFor="let data of trainingAccomodationCandidateList;let i=index;"> -->
                <!-- By Anif 0n 04-05-2023 -->
                <tr *ngFor="let data of trainingAccomodationCandidateListForView;let i=index;">
                    <td style="min-width: 80px;">{{data.candidateNo}}</td>
                    <td style="min-width: 80px;">{{data.candidateName}}</td>
                    <td style="min-width: 50px;">{{data.fromDate}}</td>
                    <td style="min-width: 50px;">{{data.toDate}}</td>
                    <td style="min-width: 80px;">{{data.accomodation}}</td>
                    <td class="text-center"><a href="javascript:void(0)" class="row-btn"
                            (click)="onClickDelete(data,i)"><i class="las la-trash-alt"></i></a> </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="mt-4">
        <button type="button" class="btn btn-black" (click)="onClickFinalSubmit()">Submit</button>
        <button type="button" class="btn btn-primary ml-1" (click)="onClickCancel()">Cancel</button>
    </div>
</div>

<!-- for showing loader -->

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>

<!-- Anifur -->